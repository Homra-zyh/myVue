//è‡ªå®šä¹‰æŒ‡ä»¤å½¢å¼ï¼Œéœ€è¦é¡µé¢ä¸­æœ‰ä¸€ä¸ªå…ƒç´ ç»‘å®š

const colorArray = ["#FF5252", "#FF4081", "#E040FB", "#7C4DFF", "#536DFE", "#448AFF", "#40C4FF", "#18FFFF", "#64FFDA", "#69F0AE", "#B2FF59", "#EEFF41", "#FFFF00", "#FFD740", "#FFAB40", "#FF6E40"]
const TextArray = ["OÏ‰O", "(à¹‘â€¢Ì âˆ€ â€¢Ì€à¹‘)", "â¤", "â¤", "â¤", "â¤", "â¤", "â¤", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)",
	"(à¹‘â€¢Ì€_â€¢Ìà¹‘)", "ï¼ˆï¿£ã¸ï¿£ï¼‰", "à«®( áµ’ÌŒçš¿áµ’ÌŒ )áƒ", "â•®(ï½¡>å£<ï½¡)â•­", "( à¸‡ áµ’ÌŒçš¿áµ’ÌŒ)à¸‡â¼Â³â‚Œâ‚ƒ", "(ê¦Â°á·„Ğ´Â°á·…)", "âˆªÏ‰âˆª", "âˆªâ–³âˆª",
	"âˆªâ–½âˆª", "â‰§â–‚â‰¦", "â‰§ï¼â‰¦", "â‰§ï¸¿â‰¦", "â‰§Ï‰â‰¦", "â‰§ï¹â‰¦", "â‰§â–³â‰¦", "â‰§â–½â‰¦", "ï¼â–‚ï¼œ", "ï¼ï¸¿ï¼œ", "ï¼Ï‰ï¼œ",
	"ï¼â–³ï¼œ", "ï¼â–½ï¼œ", "â•¯â–‚â•°", "â•¯ï¼â•°", "â•¯ï¸¿â•°", "â•¯Ï‰â•°", "â•¯ï¹â•°", "â•¯â–³â•°", "â•¯â–½â•°", "ï¼‹â–‚ï¼‹", "ï¼‹ï¸¿ï¼‹", "ï¼‹Ï‰ï¼‹",
	"ï¼‹â–³ï¼‹", "ï¼‹â–½ï¼‹", "Ë‹â–‚ËŠ", "Ë‹ï¸¿ËŠ", "Ë‹Ï‰ËŠ", "Ë‹â–³ËŠ", "Ë‹â–½ËŠ", "Ë‡â–‚Ë‡", "Ë‡ï¼Ë‡", "Ë‡ï¸¿Ë‡", "Ë‡Ï‰Ë‡", "Ë‡ï¹Ë‡",
	"Ë‡â–³Ë‡", "Ë‡â–½Ë‡", "Ë™â–‚Ë™", "Ë™ï¼Ë™", "Ë™ï¸¿Ë™", "Ë™Ï‰Ë™", "Ë™ï¹Ë™", "Ë™â–³Ë™", "Ë™â–½Ë™", "â‰¡(â–”ï¹â–”)â‰¡", "âŠ™ï¹âŠ™",
	"( > c < )", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´",
	"(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´", "(â•¯Â°å£Â°)â•¯(â”´â€”â”´",
	"â¤", "â¤", "â¤", "â¤", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©", "ğŸ’©"];


export default {
	mounted(el, binding) {
		const handleClick = (e) => {
			const $elem = document.createElement("b");//åˆ›å»ºä¸€ä¸ªbæ ‡ç­¾
			$elem.style.zIndex = 9999;
			$elem.style.position = "absolute";//ç»å¯¹å®šä½

			const x = e.pageX;
			const y = e.pageY;
			$elem.style.left = (x - 10) + "px";
			$elem.style.top = (y - 20) + "px";

			$elem.innerText = TextArray[Math.floor(Math.random() * TextArray.length)];
			$elem.style.color = colorArray[Math.floor(Math.random() * colorArray.length)];

			$elem.style.fontSize = Math.random() * 10 + 8 + "px";//éšæœºå­—ä½“å¤§å°8-18px

			let increase = 0;//ä¸Šç§»è·ç¦»
			const anim = setInterval(() => {
				if (++increase === 150) {//150*8msçš„å­˜åœ¨æ—¶é•¿
					clearInterval(anim);
					$elem.remove();
				}
				$elem.style.top = (y - 10 - increase) + "px";//å…ƒç´ äº§ç”Ÿäºé¼ æ ‡æŒ‡é’ˆä¸Š10pxï¼Œå†é€æ¸ä¸Šç§»150px
				$elem.style.opacity = (150 - increase) / 120;//é€æ˜åº¦å‡å°
			}, 8);

			document.body.appendChild($elem);//æ·»åŠ åˆ°bodyä¸­
		};

		// ç»‘å®šç‚¹å‡»äº‹ä»¶åˆ°document
		document.documentElement.addEventListener("click", handleClick);

		//ä¿å­˜æ¸…ç†å‡½æ•°ï¼Œé¿å…å†…å­˜æ³„æ¼
		el._clickEffectCleanup = () => {
			document.documentElement.removeEventListener("click", handleClick);
		};
	},
	unmounted(el) {
		// ç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬
		el._clickEffectCleanup?.();
	}
};